# Trouble Shooting

- 랜덤 채팅 매칭 방식
    - 문제점 : 먼저 참여가능한 랜덤 채팅방을 탐색하고 있으면 바로 매칭, 없으면 방을 생성하고 방을 생성한지 5분이 지나도록 참여자가 없으면 방을 삭제하는 식의 규칙으로 계획했으나, 동시성 이슈에 대해 방 생성과 탐색에 락을 걸고 진행하였으나 병목현상이 일어날 가능성과 락을 가지고 연산하는 부분에서 성능에 무리가 있을거라는 피드백을 받았습니다.
    - 해결 : 매칭방식을 redis 큐를 이용하여 순차적으로 매칭되도록 하였습니다. 큐에 push(), pop() 의 연산에는 락을 걸어 동시성 이슈를 해결하였습니다.